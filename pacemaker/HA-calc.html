<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>11. Calculations of high availability systems &mdash; PacemakerDoc 1 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="PacemakerDoc 1 documentation" href="index.html" />
    <link rel="next" title="12. ClusterIP / iptables mechanisms" href="ipt_clusterip.html" />
    <link rel="prev" title="10. References / links" href="refs.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ipt_clusterip.html" title="12. ClusterIP / iptables mechanisms"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="refs.html" title="10. References / links"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PacemakerDoc 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="calculations-of-high-availability-systems">
<h1>11. Calculations of high availability systems<a class="headerlink" href="#calculations-of-high-availability-systems" title="Permalink to this headline">¶</a></h1>
<div class="section" id="motivation">
<h2>11.1. Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>HA Proxy and/or Pacemaker seem to provide us high availability of the system. But how much available? Quantitative analysis, or calculations of the availability of the system using HA Proxy and Pacemaker are shown.</p>
</div>
<div class="section" id="availability-calculations">
<h2>11.2. Availability Calculations<a class="headerlink" href="#availability-calculations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="system-layout">
<h3>11.2.1. System Layout<a class="headerlink" href="#system-layout" title="Permalink to this headline">¶</a></h3>
<p>HA Proxy x M in front and Web x N as back-end.</p>
</div>
<div class="section" id="definition-of-probability">
<h3>11.2.2. Definition of probability<a class="headerlink" href="#definition-of-probability" title="Permalink to this headline">¶</a></h3>
<p>P_HAP : Probability of HA Proxy server&#8217;s availability. (0 - 1.0) &#8216;1&#8217; means always available.</p>
<p>P_Web : Probability of back-end Web server&#8217;s availability. (0 - 1.0)</p>
</div>
<div class="section" id="probability-calculations">
<h3>11.2.3. Probability Calculations<a class="headerlink" href="#probability-calculations" title="Permalink to this headline">¶</a></h3>
<p>System is down when,</p>
<ul class="simple">
<li>(All the HA Proxies are down) or ((At least one of the HA proxy is up) and (All the Web servers are down))<ul>
<li>(All the HA Proxies are down) =&gt; (1 - P_HAP)^M</li>
<li>(At least one of the HA proxy is up) =&gt; (1 - (1 - P_HAP)^M)</li>
<li>(All the Web servers are down) =&gt; (1 - P_Web)^N</li>
</ul>
</li>
<li>So the probability of the system down equals</li>
</ul>
<div class="math">
\[(1 - P_{HAP})^M + (1 - (1 - P_{HAP})^M) x (1 - P_{Web})^N\]</div>
<ul class="simple">
<li>Availability of the system is thus,</li>
</ul>
<div class="math">
\[1 - {(1 - P_{HAP})^M + (1 - (1 - P_{HAP})^M) x (1 - P_{Web})^N}
 = (1 - (1 - P_{HAP})^M) x (1 + (1 - P_{Web})^N)\]</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">11. Calculations of high availability systems</a><ul>
<li><a class="reference internal" href="#motivation">11.1. Motivation</a></li>
<li><a class="reference internal" href="#availability-calculations">11.2. Availability Calculations</a><ul>
<li><a class="reference internal" href="#system-layout">11.2.1. System Layout</a></li>
<li><a class="reference internal" href="#definition-of-probability">11.2.2. Definition of probability</a></li>
<li><a class="reference internal" href="#probability-calculations">11.2.3. Probability Calculations</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="refs.html"
                        title="previous chapter">10. References / links</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ipt_clusterip.html"
                        title="next chapter">12. ClusterIP / iptables mechanisms</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/HA-calc.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ipt_clusterip.html" title="12. ClusterIP / iptables mechanisms"
             >next</a> |</li>
        <li class="right" >
          <a href="refs.html" title="10. References / links"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PacemakerDoc 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016 Red Hat, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
  </body>
</html>